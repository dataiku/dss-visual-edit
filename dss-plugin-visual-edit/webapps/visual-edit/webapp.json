{
    "meta": {
        "label": "Visual Edit",
        "description": "Edit dataset records in a tabular UI while storing changes in a separate editlog dataset.",
        "icon": "icon-edit-sign"
    },
    "baseType": "DASH",
    "hasBackend": "true",
    "noJSSecurity": "true",
    "standardWebAppLibraries": null,
    "params": [
        {
            "name": "sep-data",
            "label": "Data",
            "description": "Visual Edit mandatory settings, including the dataset of records to review. Edits will be stored in a separate editlog dataset. Use a recommended data connection for better performance. [Documentation >](https://dataiku.github.io/dss-visual-edit/getting-started)",
            "type": "SEPARATOR"
        },
        {
            "name": "original_dataset",
            "label": "Original dataset",
            "description": "Never modified: edits are stored in the editlog dataset and propagated to a new dataset in the Flow.",
            "type": "DATASET",
            "mandatory": true
        },
        {
            "name": "primary_keys",
            "label": "Primary key column(s)",
            "description": "Uniquely identify a record. Required to merge original and editlog rows.",
            "type": "DATASET_COLUMNS",
            "datasetParamName": "original_dataset",
            "mandatory": true
        },
        {
            "name": "editable_column_names",
            "label": "Editable column(s)",
            "description": "Rendering and editing behavior follow the dataset column Types and Meanings.",
            "type": "DATASET_COLUMNS",
            "datasetParamName": "original_dataset",
            "mandatory": true
        },
        {
            "name": "sep-linked-record",
            "label": "Linked Records",
            "description": "Define Linked Record columns to limit editing to predefined options displayed in a dropdown. [Learn more >](https://dataiku.github.io/dss-visual-edit/linked-records)",
            "type": "SEPARATOR"
        },
        {
            "name": "linked_records_count",
            "label": "Number of Linked Record columns",
            "description": "Maximum supported is 2.",
            "type": "INT",
            "minI": 0,
            "maxI": 2
        },
        {
            "name": "sep-linked-records-1",
            "label": "Linked Record column #1",
            "description": "Specify an Editable Column, a dataset providing allowed options, and map its columns.",
            "type": "SEPARATOR",
            "visibilityCondition": "model.linked_records_count > 0"
        },
        {
            "name": "linked_record_name_1",
            "label": "Editable column",
            "description": "Mandatory. Should be in the Editable Column(s) list.",
            "type": "DATASET_COLUMN",
            "datasetParamName": "original_dataset",
            "mandatory": true,
            "visibilityCondition": "model.linked_records_count > 0"
        },
        {
            "name": "linked_record_ds_name_1",
            "label": "Options dataset",
            "description": "Mandatory. Should be on a SQL connection or contain < 10,000 rows.",
            "type": "DATASET",
            "mandatory": true,
            "visibilityCondition": "model.linked_records_count > 0"
        },
        {
            "name": "linked_record_key_1",
            "label": "↳ Matching column",
            "description": "Mandatory. Values should match those of the Editable column in the Original dataset.",
            "type": "DATASET_COLUMN",
            "datasetParamName": "linked_record_ds_name_1",
            "mandatory": true,
            "visibilityCondition": "model.linked_records_count > 0"
        },
        {
            "name": "linked_record_label_column_1",
            "label": "↳ Display column",
            "description": "Mandatory. Used to identify options in the dropdown. This can be the same as 'Matching Column', or another column providing user-friendly labels (e.g. when the former contains codes or IDs).",
            "type": "DATASET_COLUMN",
            "datasetParamName": "linked_record_ds_name_1",
            "visibilityCondition": "model.linked_records_count > 0"
        },
        {
            "name": "linked_record_lookup_columns_1",
            "label": "↳ Lookup columns",
            "description": "Used to provide additional information about each option and aid selection in the dropdown.",
            "type": "DATASET_COLUMNS",
            "datasetParamName": "linked_record_ds_name_1",
            "visibilityCondition": "model.linked_records_count > 0"
        },
        {
            "name": "sep-linked-records-2",
            "label": "Linked Record column #2",
            "type": "SEPARATOR",
            "visibilityCondition": "model.linked_records_count > 1"
        },
        {
            "name": "linked_record_name_2",
            "label": "Editable Column",
            "type": "DATASET_COLUMN",
            "description": "The editable column to render as a second dropdown. Ensure it is included in the Editable column(s) list.",
            "datasetParamName": "original_dataset",
            "mandatory": true,
            "visibilityCondition": "model.linked_records_count > 1"
        },
        {
            "name": "linked_record_ds_name_2",
            "label": "Options Dataset",
            "description": "Dataset providing allowed values for the second dropdown. Should be on a SQL connection or contain < 10,000 rows.",
            "type": "DATASET",
            "mandatory": true,
            "visibilityCondition": "model.linked_records_count > 1"
        },
        {
            "name": "linked_record_key_2",
            "label": "↳ Matching Column",
            "type": "DATASET_COLUMN",
            "datasetParamName": "linked_record_ds_name_2",
            "mandatory": true,
            "visibilityCondition": "model.linked_records_count > 1"
        },
        {
            "name": "linked_record_label_column_2",
            "label": "↳ Display Column",
            "type": "DATASET_COLUMN",
            "datasetParamName": "linked_record_ds_name_2",
            "visibilityCondition": "model.linked_records_count > 1"
        },
        {
            "name": "linked_record_lookup_columns_2",
            "label": "↳ Additional Lookup Columns",
            "type": "DATASET_COLUMNS",
            "datasetParamName": "linked_record_ds_name_2",
            "visibilityCondition": "model.linked_records_count > 1"
        },
        {
            "name": "sep-layout",
            "label": "Layout",
            "description": "Customize the user interface with header filters and row grouping.",
            "type": "SEPARATOR"
        },
        {
            "name": "show_header_filter",
            "label": "Show header filters",
            "description": "Under column headers.",
            "type": "BOOLEAN",
            "defaultValue": true
        },
        {
            "name": "group_column_names",
            "label": "Group by Columns",
            "description": "Used to group rows in the webapp's data table.",
            "type": "DATASET_COLUMNS",
            "datasetParamName": "original_dataset"
        },
        {
            "name": "sep-advanced",
            "label": "Advanced",
            "description": "Access control, edit freezing, debug mode, and [advanced column definitions](https://dataiku.github.io/dss-visual-edit/editschema).",
            "type": "SEPARATOR"
        },
        {
            "name": "authorized_users",
            "label": "Authorized Users",
            "description": "List of user IDs allowed to use the webapp. Leave empty to permit anyone with project dashboard read access.",
            "type": "ARRAY"
        },
        {
            "name": "freeze_edits",
            "label": "Freeze Edits",
            "description": "If true, editing is disabled in the webapp.",
            "type": "BOOLEAN"
        },
        {
            "name": "debug_mode",
            "label": "Debug Mode",
            "description": "Enable debug logging to help troubleshoot issues.",
            "type": "BOOLEAN"
        },
        {
            "name": "editschema",
            "label": "Advanced Column Definitions",
            "description": "Array of dictionaries in JSON format to customize column rendering and behavior, following the AgGrid syntax. Example: [ {'name': 'col1', 'options': { 'filter': 'agSetColumnFilter'}}, {'name': 'col2', 'options': {...}} ].",
            "type": "TEXTAREA"
        }
    ],
    "roles": []
}