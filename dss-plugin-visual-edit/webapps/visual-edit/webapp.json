{
    "meta": {
        "label": "Visual Edit",
        "description": "Edit dataset records in a tabular UI while storing changes in a separate editlog dataset.",
        "icon": "icon-edit-sign"
    },
    "baseType": "DASH",
    "hasBackend": "true",
    "noJSSecurity": "true",
    "standardWebAppLibraries": null,
    "params": [
        {
            "name": "sep-data",
            "label": "Data",
            "description": "Original dataset and core settings. Editlog auto-created on the same connection; edited dataset built by plugin recipe. Use a recommended connection. [Docs >](https://dataiku.github.io/dss-visual-edit/getting-started)",
            "type": "SEPARATOR"
        },
        {
            "name": "original_dataset",
            "label": "Original dataset",
            "description": "Read-only. Edits stored in <dataset>_editlog.",
            "type": "DATASET",
            "mandatory": true
        },
        {
            "name": "primary_keys",
            "label": "Primary key(s)",
            "description": "Columns that uniquely identify each row (required to merge edits).",
            "type": "DATASET_COLUMNS",
            "datasetParamName": "original_dataset",
            "mandatory": true
        },
        {
            "name": "editable_column_names",
            "label": "Editable column(s)",
            "description": "Renders by column Type/Meaning. Primary keys cannot be editable.",
            "type": "DATASET_COLUMNS",
            "datasetParamName": "original_dataset",
            "mandatory": true
        },
        {
            "name": "sep-linked-record",
            "label": "Dropdown columns",
            "description": "Editable columns with predefined options presented in dropdowns. [Learn more >](https://dataiku.github.io/dss-visual-edit/linked-records)",
            "type": "SEPARATOR"
        },
        {
            "name": "linked_records_count",
            "label": "Dropdown columns",
            "description": "",
            "type": "INT",
            "minI": 0,
            "maxI": 2
        },
        {
            "name": "linked_record_name_1",
            "label": "Dropdown column (1)",
            "description": "Should be in the Editable column(s) list.",
            "type": "DATASET_COLUMN",
            "datasetParamName": "original_dataset",
            "mandatory": true,
            "visibilityCondition": "model.linked_records_count > 0"
        },
        {
            "name": "linked_record_ds_name_1",
            "label": "Options dataset (1)",
            "description": "Provides dropdown options (SQL or <10k rows).",
            "type": "DATASET",
            "mandatory": true,
            "visibilityCondition": "model.linked_records_count > 0"
        },
        {
            "name": "linked_record_key_1",
            "label": "↳ Matching column (1)",
            "description": "Key column in Options dataset that matches Dropdown column (1) in Original dataset.",
            "type": "DATASET_COLUMN",
            "datasetParamName": "linked_record_ds_name_1",
            "mandatory": true,
            "visibilityCondition": "model.linked_records_count > 0"
        },
        {
            "name": "linked_record_label_column_1",
            "label": "↳ Display column (1)",
            "description": "Label shown in the dropdown. Can be the same as Matching column (1), but if it contains codes or IDs, choose another user-friendly column.",
            "type": "DATASET_COLUMN",
            "datasetParamName": "linked_record_ds_name_1",
            "visibilityCondition": "model.linked_records_count > 0"
        },
        {
            "name": "linked_record_lookup_columns_1",
            "label": "↳ Lookup columns (1) (optional)",
            "description": "Additional information shown in each dropdown item, to aid selection.",
            "type": "DATASET_COLUMNS",
            "datasetParamName": "linked_record_ds_name_1",
            "visibilityCondition": "model.linked_records_count > 0"
        },
        {
            "name": "sep-linked-records-2",
            "label": "Linked Record column #2",
            "type": "SEPARATOR",
            "visibilityCondition": "model.linked_records_count > 1"
        },
        {
            "name": "linked_record_name_2",
            "label": "Editable Column",
            "type": "DATASET_COLUMN",
            "description": "The editable column to render as a second dropdown. Ensure it is included in the Editable column(s) list.",
            "datasetParamName": "original_dataset",
            "mandatory": true,
            "visibilityCondition": "model.linked_records_count > 1"
        },
        {
            "name": "linked_record_ds_name_2",
            "label": "Options Dataset",
            "description": "Dataset providing allowed values for the second dropdown. Should be on a SQL connection or contain < 10,000 rows.",
            "type": "DATASET",
            "mandatory": true,
            "visibilityCondition": "model.linked_records_count > 1"
        },
        {
            "name": "linked_record_key_2",
            "label": "↳ Matching Column",
            "type": "DATASET_COLUMN",
            "datasetParamName": "linked_record_ds_name_2",
            "mandatory": true,
            "visibilityCondition": "model.linked_records_count > 1"
        },
        {
            "name": "linked_record_label_column_2",
            "label": "↳ Display Column",
            "type": "DATASET_COLUMN",
            "datasetParamName": "linked_record_ds_name_2",
            "visibilityCondition": "model.linked_records_count > 1"
        },
        {
            "name": "linked_record_lookup_columns_2",
            "label": "↳ Additional Lookup Columns",
            "type": "DATASET_COLUMNS",
            "datasetParamName": "linked_record_ds_name_2",
            "visibilityCondition": "model.linked_records_count > 1"
        },
        {
            "name": "sep-layout",
            "label": "Layout (optional)",
            "description": "Customize the data table with header filters and row grouping.",
            "type": "SEPARATOR"
        },
        {
            "name": "show_header_filter",
            "label": "Header filters",
            "description": "Show per-column filters under headers.",
            "type": "BOOLEAN",
            "defaultValue": true
        },
        {
            "name": "group_column_names",
            "label": "Group by",
            "description": "Columns used to group rows in the table.",
            "type": "DATASET_COLUMNS",
            "datasetParamName": "original_dataset"
        },
        {
            "name": "sep-advanced",
            "label": "Advanced (optional)",
            "description": "Access control, edit freezing, debug mode, and [column definition overrides](https://dataiku.github.io/dss-visual-edit/editschema).",
            "type": "SEPARATOR"
        },
        {
            "name": "authorized_users",
            "label": "Authorized users",
            "description": "User IDs allowed to open the webapp. Leave empty = project dashboard readers.",
            "type": "ARRAY"
        },
        {
            "name": "freeze_edits",
            "label": "Freeze edits",
            "description": "If checked, editing is disabled.",
            "type": "BOOLEAN"
        },
        {
            "name": "debug_mode",
            "label": "Debug mode",
            "description": "Enable verbose logging for troubleshooting.",
            "type": "BOOLEAN"
        },
        {
            "name": "editschema",
            "label": "Column overrides (JSON)",
            "description": "Advanced per-column options as JSON array (AgGrid syntax). Example: [ {'name': 'col1', 'options': { 'filter': 'agSetColumnFilter'}}, {'name': 'col2', 'options': {...}} ].",
            "type": "TEXTAREA"
        }
    ],
    "roles": []
}